<!doctype html><html lang=en-us><head><meta charset=utf-8><meta charset=utf-8><meta name=mobile-web-app-capable content="yes"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=follow.it-verification-code content="gMl06yz3830xNk7Qeh4M"><title>Send emails using PHP — Stupid Codes | Robin Boers</title><link rel=stylesheet type=text/css href=https://geheimesite.nl/assets/css/main.css><link rel=stylesheet type=text/css href=https://blog.geheimesite.nl/stupid-codes/css/feed.css><link rel=icon href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 110 110%22><text y=%22.9em%22 font-size=%2290%22>⭐</text></svg>"><link rel=authorization_endpoint href=https://indieauth.com/auth><link rel=token_endpoint href=https://tokens.indieauth.com/token><link rel=webmention href=https://webmention.io/geheimesite.nl/webmention><link rel=pingback href=https://webmention.io/geheimesite.nl/xmlrpc><link rel=micropub href=https://micro.geheimesite.nl/endpoint><link rel=microsub href=https://aperture.p3k.io/microsub/733><meta property="og:url" content="https://blog.geheimesite.nl/stupid-codes"><meta property="og:title" content="Stupid Codes"><meta property="og:site_name" content="Stupid Codes"><meta property="og:type" content="website"><meta name=twitter:title content="Stupid Codes"></head><body><header><div><div class="flex flex-row justify-between items-center"><div class="header__item flex flex-row flex-grow"><div id=logo></div><h1 class=title><a id=site__name href=https://blog.geheimesite.nl/stupid-codes>Stupid Codes</a></h1></div><nav aria-label="page menu"><ul role=menubar class="flex flex-row gap-10 m-0 p-0"><li role=none><a class=menu__item href=https://blog.geheimesite.nl/stupid-codes><svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 22 22" fill="none" stroke="currentcolor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M21 11.5a8.38 8.38.0 01-.9 3.8A8.5 8.5.0 0112.5 20a8.38 8.38.0 01-3.8-.9L3 21l1.9-5.7A8.38 8.38.0 014 11.5a8.5 8.5.0 014.7-7.6 8.38 8.38.0 013.8-.9h.5a8.48 8.48.0 018 8v.5z"/></svg></a></li></ul></nav></div></div></header><article class="feed__li feed__content h-entry post mt-10"><div class="text-center my-7 max-w-xl mx-auto"><time class="hidden dt-published">2021-08-04 08:16:00.005 -0700 -0700</time><h1 class="p-name mb-0 text-4xl">Send emails using PHP</h1><p class="my-5 bold text-black dark:text-white">04 August 2021</p><div class=hidden><div class="flex flex-row justify-between items-center"><div rel=author class="flex items-center gap-5 p-author h-card"><img class=u-photo src=https://geheimesite.nl/images/me.jpeg alt="Robin Boers" id=author-img><div><p rel=me class="p-name font-bold m-0" id=author-name>Robin Boers</p><p class=m-0>04 August 2021</p></div></div><div class=flex><a class="icon u-url" href=https://blog.geheimesite.nl/stupid-codes/2021/08/send-emails-using-php.html><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-bookmark"><path d="M19 21l-7-5-7 5V5a2 2 0 012-2h10a2 2 0 012 2z"/></svg></a></div></div></div></div><section class="p-summary e-content"><p>This is how to send an email using PHP. For this to work, PHP needs access to the <code>sendmail</code> binary (and permission to use it). You have to set the path to this binary in <code>php.ini</code> (check where it is located using the <code>phpinfo()</code> function). Place it under the line <code>[mail function]</code>. Here&rsquo;s an example:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ini data-lang=ini><span style=display:flex><span><span style=color:#a6e22e>[mail function]  </span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>sendmail_path</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>/usr/sbin/sendmail  </span>
</span></span></code></pre></div><p>On Windows you also have to set your SMTP server. Here&rsquo;s another example:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ini data-lang=ini><span style=display:flex><span><span style=color:#a6e22e>[mail function]  </span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>SMTP</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>localhost  </span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>smtp_port</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>25  
</span></span></span><span style=display:flex><span><span style=color:#e6db74>  </span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>sendmail_from</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>robin@geheimesite.nl  </span>
</span></span></code></pre></div><p>This is a simple script to send emails using PHP:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-php data-lang=php><span style=display:flex><span><span style=color:#f92672>&lt;?</span><span style=color:#a6e22e>php </span>  
</span></span><span style=display:flex><span>$msg <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34; Lorem ipsum dolor sit amet, consectetur adipiscing elit. Etiam et fermentum lorem. Proin tristique tortor in metus mattis euismod. Donec ligula erat, ultrices at dapibus ornare, convallis ut ligula. Nullam aliquet nec enim eget consectetur. Quisque hendrerit, purus quis luctus vestibulum, massa dui commodo lectus, luctus iaculis nisl arcu eu odio. Integer porta ultrices libero, et vestibulum metus lacinia vitae. Etiam ipsum arcu, pharetra ut maximus nec, imperdiet vel ex. Donec ut ligula vel risus pellentesque porttitor. Nam lectus leo, tincidunt et justo pellentesque, dictum hendrerit neque. Pellentesque consectetur, mauris id lobortis sagittis, nisl tortor lacinia est, vel rhoncus lorem libero ut erat. Nam maximus iaculis mollis. Nunc rhoncus sagittis nulla. Nulla porta dolor sit amet ultricies ultrices. &#34;</span>;  
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>$email <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;robin@geheimesite.nl&#34;</span>;  
</span></span><span style=display:flex><span>$subject <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;Example email&#34;</span>;  
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>$msg <span style=color:#f92672>=</span> <span style=color:#a6e22e>wordwrap</span>($msg,<span style=color:#ae81ff>70</span>);  
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span><span style=color:#a6e22e>mail</span>($email,$subject,$msg);  
</span></span><span style=display:flex><span><span style=color:#75715e>?&gt;</span><span style=color:#960050;background-color:#1e0010> 
</span></span></span></code></pre></div><p>On the PHP documentation there also was a <a href=https://www.php.net/manual/en/book.mail.php#92738>usefull comment</a> (credits to pouletfou at gmail dot com) describing how to use a fakemail binary to check the logs for testing purposes:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-php data-lang=php><span style=display:flex><span><span style=color:#75715e>#!/usr/bin/php  
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#f92672>&lt;?</span><span style=color:#a6e22e>php</span>  
</span></span><span style=display:flex><span>    <span style=color:#75715e>//====================================================  
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#75715e>// Program : Fake send mail  
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#75715e>// Author : pouletfou at gmail  
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#75715e>// Description : save this file as /usr/sbin/sendmail  
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#75715e>//  and you can test your PHP applications using mail  
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#75715e>//  by looking at the /tmp/fakesendmail.log files.  
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#75715e>//====================================================  
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>define</span>(<span style=color:#e6db74>&#39;LOGFILE&#39;</span>,<span style=color:#e6db74>&#39;/tmp/fakesendmail.log&#39;</span>);  
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>    $log <span style=color:#f92672>=</span> <span style=color:#a6e22e>fopen</span> (<span style=color:#a6e22e>LOGFILE</span>,<span style=color:#e6db74>&#39;a+&#39;</span>);  
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>fwrite</span>($log,<span style=color:#e6db74>&#34;</span><span style=color:#ae81ff>\n</span><span style=color:#e6db74>&#34;</span><span style=color:#f92672>.</span><span style=color:#a6e22e>implode</span>(<span style=color:#e6db74>&#39; &#39;</span>,$argv)<span style=color:#f92672>.</span>  
</span></span><span style=display:flex><span>     <span style=color:#e6db74>&#34; called on : &#34;</span><span style=color:#f92672>.</span><span style=color:#a6e22e>date</span>(<span style=color:#e6db74>&#39;Y-m-d H:i:s&#39;</span>)<span style=color:#f92672>.</span><span style=color:#e6db74>&#34;</span><span style=color:#ae81ff>\n</span><span style=color:#e6db74>&#34;</span>);  
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>fwrite</span>($log,<span style=color:#a6e22e>file_get_contents</span>(<span style=color:#e6db74>&#34;php://stdin&#34;</span>));  
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>fwrite</span>($log,  
</span></span><span style=display:flex><span><span style=color:#e6db74>&#34;</span><span style=color:#ae81ff>\n</span><span style=color:#e6db74>===========================================================</span><span style=color:#ae81ff>\n</span><span style=color:#e6db74>&#34;</span>);  
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>fclose</span>($log);  
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span><span style=color:#75715e>?&gt;</span><span style=color:#960050;background-color:#1e0010>  
</span></span></span></code></pre></div><p>Sources:</p><ul><li><a href=https://www.php.net/manual/en/book.mail.php>https://www.php.net/manual/en/book.mail.php</a></li><li><a href=https://www.quackit.com/php/tutorial/php_mail_configuration.cfm>https://www.quackit.com/php/tutorial/php_mail_configuration.cfm</a></li></ul></section><a class=hidden href=https://brid.gy/publish/mastodon></a>
<a class=hidden href=https://brid.gy/publish/twitter></a>
<data class=p-bridgy-omit-link value=false></data><section class=print:hidden><div class=section id=webmentions></div><p><a class="button btn" id=wm-link href=https://webmention.io/geheimesite.nl/webmention target=_blank>webmention this&nbsp;<svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-external-link"><path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"/><polyline points="15 3 21 3 21 9"/><line x1="10" y1="14" x2="21" y2="3"/></svg></a>
<a class="button btn ml-2" id=wm-link href="https://quill.p3k.io?dontask=1&name=dontask&me=https%3A%2F%2Fcommentpara.de%2F&reply=https%3A%2F%2Fblog.geheimesite.nl%2Fstupid-codes%2F2021%2F08%2Fsend-emails-using-php.html" target=_blank>leave a comment&nbsp;<svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-external-link"><path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"/><polyline points="15 3 21 3 21 9"/><line x1="10" y1="14" x2="21" y2="3"/></svg></a>
<script src=/js/webmention.min.js data-wordcount=100 async></script></p></section></article><div class="print:hidden section" id=webmentions></div><hr class="my-7 border-none"><footer class=page-footer><p class="m-0 mb-2"><a href="https://follow.it/that-crazy-webdev?action=followPub">[ follow me ]</a></p><p>&copy; 2022 Robin Boers. Webdesigner en PHP-developer sinds 2017.</p></footer></body></html>